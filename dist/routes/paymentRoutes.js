import { Router } from "express";
import { errorHandler } from "../middlewares/errorHandler.js";
import isPayment from "../middlewares/isPayment.js";
import makeFullPayment from "../controllers/payment/FULL/makeFullPayment.js";
import isAuthenticated from "../middlewares/authenticated.js";
import getDownPaymentValue from "../controllers/payment/INSTALLMENT/getDownPaymentValue.js";
import payForInstallment from "../controllers/payment/INSTALLMENT/payForIntallment.js";
import makeDownPayment from "../controllers/payment/FULL/makeDownPayment.js";
import authenticated from "../middlewares/authenticated.js";
import getUserPayments from "../controllers/payment/getUserPayments.js";
const paymentRouter = Router();
paymentRouter.post("/downpayment/:saleId", errorHandler(isPayment), errorHandler(makeDownPayment));
paymentRouter.get("/downpayment/value/:saleId", errorHandler(isAuthenticated), errorHandler(getDownPaymentValue));
paymentRouter.post("/fullpayment/:saleId", errorHandler(isPayment), errorHandler(makeFullPayment));
paymentRouter.post("/installment/:id", errorHandler(isPayment), errorHandler(payForInstallment));
paymentRouter.get("/user", errorHandler(authenticated), errorHandler(getUserPayments));
export default paymentRouter;
